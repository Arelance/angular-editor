{"version":3,"sources":["webpack:///angular-editor/src/lib/utils.ts","webpack:///src/environments/environment.ts","webpack:///angular-editor/src/lib/angular-editor.service.ts","webpack:///angular-editor/src/lib/config.ts","webpack:///angular-editor/src/lib/angular-editor.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///angular-editor/src/lib/ae-select/ae-select.component.ts","webpack:///angular-editor/src/lib/ae-select/ae-select.component.html","webpack:///angular-editor/src/lib/angular-editor-toolbar.component.ts","webpack:///angular-editor/src/lib/angular-editor-toolbar.component.html","webpack:///angular-editor/src/lib/angular-editor.component.ts","webpack:///angular-editor/src/lib/angular-editor.component.html","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["isDefined","value","undefined","environment","production","AngularEditorService","http","doc","saveSelection","getSelection","sel","getRangeAt","rangeCount","savedSelection","selectedText","toString","createRange","document","command","commands","includes","execCommand","url","newUrl","insertHtml","color","where","restored","restoreSelection","fontName","fontSize","html","isHTMLInserted","Error","removeAllRanges","addRange","callbackFn","timeout","setTimeout","length","file","uploadData","FormData","append","name","post","uploadUrl","reportProgress","observe","withCredentials","uploadWithCredentials","imageUrl","separator","customClass","newTag","tagName","tag","videoUrl","match","insertYouTubeVideoTag","insertVimeoVideoTag","id","split","thumbnail","sub","get","subscribe","data","thumbnail_url_with_play_button","title","unsubscribe","node","hasChildNodes","firstChild","nextSibling","parentNode","range","includePartiallySelectedContainers","startContainer","endNode","endContainer","rangeNodes","push","nextNode","commonAncestorContainer","unshift","nodes","i","len","apply","getRangeSelectedNodes","el","parent","insertBefore","removeChild","tagNames","tagNamesArray","toLowerCase","getSelectedNodes","forEach","nodeType","indexOf","replaceWithOwnChildren","angularEditorConfig","editable","spellcheck","height","minHeight","maxHeight","width","minWidth","translate","enableToolbar","showToolbar","placeholder","defaultParagraphSeparator","defaultFontName","defaultFontSize","fonts","sanitize","toolbarPosition","outline","AngularEditorModule","imports","declarations","exports","AppComponent","formBuilder","htmlContent1","htmlContent2","config1","customClasses","toolbarHiddenButtons","config2","form","group","signature","required","console","log","event","warn","onChange","onBlur","onChange2","selector","templateUrl","styleUrls","AppModule","providers","bootstrap","AeSelectComponent","elRef","r","options","disabled","optionId","opened","hidden","changeEvent","onTouched","selectedOption","isHidden","hide","option","stopPropagation","setValue","emit","$event","nativeElement","contains","target","close","index","selectedEl","find","fn","isDisabled","labelButton","div","action","key","_handleArrowDown","_handleArrowUp","_handleSpace","_handleEnter","_handleTab","preventDefault","_handleBackspace","optionSelect","hasOwnProperty","label","provide","useExisting","multi","toggleOpen","encapsulation","None","onClick","handleKeyDown","AngularEditorToolbarComponent","editorService","er","htmlMode","linkSelected","block","headings","fontSizes","customClassId","customClassList","tagMap","BLOCKQUOTE","A","select","buttons","execute","e","result","queryCommandState","elementById","getElementById","addClass","removeClass","findIndex","x","nodeName","found","y","_customClasses","Element","className","Object","keys","map","foreColour","queryCommandValue","replace","backColor","selection","parentElement","href","prompt","createLink","insertVideo","insertColor","foreColor","setFontName","setFontSize","m","toggleEditorModeButton","files","type","upload","watchUploadImage","uploadImage","reader","FileReader","onload","fr","currentTarget","insertImage","readAsDataURL","response","body","srcElement","classId","createCustomClass","hiddenButtons","Array","arr","item","classes","Boolean","myInputFile","AngularEditorComponent","sanitizer","cdRef","defaultTabIndex","autoFocus","modeVisual","showPlaceholder","focused","touched","changed","config","viewMode","blurEvent","focusEvent","tabindex","parsedTabIndex","Number","tabIndex","focus","toggleEditorMode","removeSelectedElements","getCustomTags","onContentChange","textArea","executeCommand","exec","executeInNextQueueIteration","configure","relatedTarget","classList","sourceText","element","innerHTML","innerText","HTML","togglePlaceholder","refreshView","normalizedValue","setProperty","editorWrapper","bToSource","oContent","editableElement","createText","oPre","createElement","setStyle","oCode","appendChild","focusInstance","listen","onTextAreaFocus","blurInstance","onTextAreaBlur","querySelectorAll","selectNodeContents","editorToolbar","setEditorMode","triggerButtons","userSelection","a","focusNode","els","triggerBlocks","setDefaultParagraphSeparator","tags","join","onTextAreaMouseOut","onFocus","bootstrapModule","err","error","webpackEmptyAsyncContext","req","Promise","resolve","then","code","module"],"mappings":"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","file":"main-es5.js","sourcesContent":["export function isDefined(value: any) {\n  return value !== undefined && value !== null;\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import {Inject, Injectable} from '@angular/core';\nimport {HttpClient, HttpEvent} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {DOCUMENT} from '@angular/common';\nimport {CustomClass} from './config';\n\nexport interface UploadResponse {\n  imageUrl: string;\n}\n\n@Injectable()\nexport class AngularEditorService {\n\n  savedSelection: Range | null;\n  selectedText: string;\n  uploadUrl: string;\n  uploadWithCredentials: boolean;\n\n  constructor(\n    private http: HttpClient,\n    @Inject(DOCUMENT) private doc: any\n  ) { }\n\n  /**\n   * Executed command from editor header buttons exclude toggleEditorMode\n   * @param command string from triggerCommand\n   */\n  executeCommand(command: string) {\n    const commands = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p', 'pre'];\n    if (commands.includes(command)) {\n      this.doc.execCommand('formatBlock', false, command);\n      return;\n    }\n    this.doc.execCommand(command, false, null);\n  }\n\n  /**\n   * Create URL link\n   * @param url string from UI prompt\n   */\n  createLink(url: string) {\n    if (!url.includes('http')) {\n      this.doc.execCommand('createlink', false, url);\n    } else {\n      const newUrl = '<a href=\"' + url + '\" target=\"_blank\">' + this.selectedText + '</a>';\n      this.insertHtml(newUrl);\n    }\n  }\n\n  /**\n   * insert color either font or background\n   *\n   * @param color color to be inserted\n   * @param where where the color has to be inserted either text/background\n   */\n  insertColor(color: string, where: string): void {\n    const restored = this.restoreSelection();\n    if (restored) {\n      if (where === 'textColor') {\n        this.doc.execCommand('foreColor', false, color);\n      } else {\n        this.doc.execCommand('hiliteColor', false, color);\n      }\n    }\n  }\n\n  /**\n   * Set font name\n   * @param fontName string\n   */\n  setFontName(fontName: string) {\n    this.doc.execCommand('fontName', false, fontName);\n  }\n\n  /**\n   * Set font size\n   * @param fontSize string\n   */\n  setFontSize(fontSize: string) {\n    this.doc.execCommand('fontSize', false, fontSize);\n  }\n\n  /**\n   * Create raw HTML\n   * @param html HTML string\n   */\n  insertHtml(html: string): void {\n\n    const isHTMLInserted = this.doc.execCommand('insertHTML', false, html);\n\n    if (!isHTMLInserted) {\n      throw new Error('Unable to perform the operation');\n    }\n  }\n\n  /**\n   * save selection when the editor is focussed out\n   */\n  public saveSelection = (): void => {\n    if (this.doc.getSelection) {\n      const sel = this.doc.getSelection();\n      if (sel.getRangeAt && sel.rangeCount) {\n        this.savedSelection = sel.getRangeAt(0);\n        this.selectedText = sel.toString();\n      }\n    } else if (this.doc.getSelection && this.doc.createRange) {\n      this.savedSelection = document.createRange();\n    } else {\n      this.savedSelection = null;\n    }\n  }\n\n  /**\n   * restore selection when the editor is focused in\n   *\n   * saved selection when the editor is focused out\n   */\n  restoreSelection(): boolean {\n    if (this.savedSelection) {\n      if (this.doc.getSelection) {\n        const sel = this.doc.getSelection();\n        sel.removeAllRanges();\n        sel.addRange(this.savedSelection);\n        return true;\n      } else if (this.doc.getSelection /*&& this.savedSelection.select*/) {\n        // this.savedSelection.select();\n        return true;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * setTimeout used for execute 'saveSelection' method in next event loop iteration\n   */\n  public executeInNextQueueIteration(callbackFn: (...args: any[]) => any, timeout = 1e2): void {\n    setTimeout(callbackFn, timeout);\n  }\n\n  /** check any selection is made or not */\n  private checkSelection(): any {\n\n    const selectedText = this.savedSelection.toString();\n\n    if (selectedText.length === 0) {\n      throw new Error('No Selection Made');\n    }\n    return true;\n  }\n\n  /**\n   * Upload file to uploadUrl\n   * @param file The file\n   */\n  uploadImage(file: File): Observable<HttpEvent<UploadResponse>> {\n\n    const uploadData: FormData = new FormData();\n\n    uploadData.append('file', file, file.name);\n\n    return this.http.post<UploadResponse>(this.uploadUrl, uploadData, {\n      reportProgress: true,\n      observe: 'events',\n      withCredentials: this.uploadWithCredentials,\n    });\n  }\n\n  /**\n   * Insert image with Url\n   * @param imageUrl The imageUrl.\n   */\n  insertImage(imageUrl: string) {\n    this.doc.execCommand('insertImage', false, imageUrl);\n  }\n\n  setDefaultParagraphSeparator(separator: string) {\n    this.doc.execCommand('defaultParagraphSeparator', false, separator);\n  }\n\n  createCustomClass(customClass: CustomClass) {\n    let newTag = this.selectedText;\n    if (customClass) {\n      const tagName = customClass.tag ? customClass.tag : 'span';\n      newTag = '<' + tagName + ' class=\"' + customClass.class + '\">' + this.selectedText + '</' + tagName + '>';\n    }\n    this.insertHtml(newTag);\n  }\n\n  insertVideo(videoUrl: string) {\n    if (videoUrl.match('www.youtube.com')) {\n      this.insertYouTubeVideoTag(videoUrl);\n    }\n    if (videoUrl.match('vimeo.com')) {\n      this.insertVimeoVideoTag(videoUrl);\n    }\n  }\n\n  private insertYouTubeVideoTag(videoUrl: string): void {\n    const id = videoUrl.split('v=')[1];\n    const imageUrl = `https://img.youtube.com/vi/${id}/0.jpg`;\n    const thumbnail = `\n      <div style='position: relative'>\n        <img style='position: absolute; left:200px; top:140px'\n             src=\"https://img.icons8.com/color/96/000000/youtube-play.png\"/>\n        <a href='${videoUrl}' target='_blank'>\n          <img src=\"${imageUrl}\" alt=\"click to watch\"/>\n        </a>\n      </div>`;\n    this.insertHtml(thumbnail);\n  }\n\n  private insertVimeoVideoTag(videoUrl: string): void {\n    const sub = this.http.get<any>(`https://vimeo.com/api/oembed.json?url=${videoUrl}`).subscribe(data => {\n      const imageUrl = data.thumbnail_url_with_play_button;\n      const thumbnail = `<div>\n        <a href='${videoUrl}' target='_blank'>\n          <img src=\"${imageUrl}\" alt=\"${data.title}\"/>\n        </a>\n      </div>`;\n      this.insertHtml(thumbnail);\n      sub.unsubscribe();\n    });\n  }\n\n  nextNode(node) {\n    if (node.hasChildNodes()) {\n      return node.firstChild;\n    } else {\n      while (node && !node.nextSibling) {\n        node = node.parentNode;\n      }\n      if (!node) {\n        return null;\n      }\n      return node.nextSibling;\n    }\n  }\n\n  getRangeSelectedNodes(range, includePartiallySelectedContainers) {\n    let node = range.startContainer;\n    const endNode = range.endContainer;\n    let rangeNodes = [];\n\n    // Special case for a range that is contained within a single node\n    if (node === endNode) {\n      rangeNodes = [node];\n    } else {\n      // Iterate nodes until we hit the end container\n      while (node && node !== endNode) {\n        rangeNodes.push( node = this.nextNode(node) );\n      }\n\n      // Add partially selected nodes at the start of the range\n      node = range.startContainer;\n      while (node && node !== range.commonAncestorContainer) {\n        rangeNodes.unshift(node);\n        node = node.parentNode;\n      }\n    }\n\n    // Add ancestors of the range container, if required\n    if (includePartiallySelectedContainers) {\n      node = range.commonAncestorContainer;\n      while (node) {\n        rangeNodes.push(node);\n        node = node.parentNode;\n      }\n    }\n\n    return rangeNodes;\n  }\n\n  getSelectedNodes() {\n    const nodes = [];\n    if (this.doc.getSelection) {\n      const sel = this.doc.getSelection();\n      for (let i = 0, len = sel.rangeCount; i < len; ++i) {\n        nodes.push.apply(nodes, this.getRangeSelectedNodes(sel.getRangeAt(i), true));\n      }\n    }\n    return nodes;\n  }\n\n  replaceWithOwnChildren(el) {\n    const parent = el.parentNode;\n    while (el.hasChildNodes()) {\n      parent.insertBefore(el.firstChild, el);\n    }\n    parent.removeChild(el);\n  }\n\n  removeSelectedElements(tagNames) {\n    const tagNamesArray = tagNames.toLowerCase().split(',');\n    this.getSelectedNodes().forEach((node) => {\n      if (node.nodeType === 1 &&\n        tagNamesArray.indexOf(node.tagName.toLowerCase()) > -1) {\n        // Remove the node and replace it with its children\n        this.replaceWithOwnChildren(node);\n      }\n    });\n  }\n}\n","import { UploadResponse } from './angular-editor.service';\nimport { HttpEvent } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\nexport interface CustomClass {\n  name: string;\n  class: string;\n  tag?: string;\n}\n\nexport interface Font {\n  name: string;\n  class: string;\n}\n\nexport interface AngularEditorConfig {\n  editable?: boolean;\n  spellcheck?: boolean;\n  height?: 'auto' | string;\n  minHeight?: '0' | string;\n  maxHeight?: 'auto' | string;\n  width?: 'auto' | string;\n  minWidth?: '0' | string;\n  translate?: 'yes' | 'now' | string;\n  enableToolbar?: boolean;\n  showToolbar?: boolean;\n  placeholder?: string;\n  defaultParagraphSeparator?: string;\n  defaultFontName?: string;\n  defaultFontSize?: '1' | '2' | '3' | '4' | '5' | '6' | '7' | string;\n  uploadUrl?: string;\n  upload?: (file: File) => Observable<HttpEvent<UploadResponse>>;\n  uploadWithCredentials?: boolean;\n  fonts?: Font[];\n  customClasses?: CustomClass[];\n  sanitize?: boolean;\n  toolbarPosition?: 'top' | 'bottom';\n  outline?: boolean;\n  toolbarHiddenButtons?: string[][];\n}\n\nexport const angularEditorConfig: AngularEditorConfig = {\n  editable: true,\n  spellcheck: true,\n  height: 'auto',\n  minHeight: '0',\n  maxHeight: 'auto',\n  width: 'auto',\n  minWidth: '0',\n  translate: 'yes',\n  enableToolbar: true,\n  showToolbar: true,\n  placeholder: 'Enter text here...',\n  defaultParagraphSeparator: '',\n  defaultFontName: '',\n  defaultFontSize: '',\n  fonts: [\n    {class: 'arial', name: 'Arial'},\n    {class: 'times-new-roman', name: 'Times New Roman'},\n    {class: 'calibri', name: 'Calibri'},\n    {class: 'comic-sans-ms', name: 'Comic Sans MS'}\n  ],\n  uploadUrl: 'v1/image',\n  uploadWithCredentials: false,\n  sanitize: true,\n  toolbarPosition: 'top',\n  outline: true,\n  /*toolbarHiddenButtons: [\n    ['bold', 'italic', 'underline', 'strikeThrough', 'superscript', 'subscript'],\n    ['heading', 'fontName', 'fontSize', 'color'],\n    ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull', 'indent', 'outdent'],\n    ['cut', 'copy', 'delete', 'removeFormat', 'undo', 'redo'],\n    ['paragraph', 'blockquote', 'removeBlockquote', 'horizontalLine', 'orderedList', 'unorderedList'],\n    ['link', 'unlink', 'image', 'video']\n  ]*/\n};\n","import {NgModule} from '@angular/core';\nimport {AngularEditorComponent} from './angular-editor.component';\nimport {AngularEditorToolbarComponent} from './angular-editor-toolbar.component';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {CommonModule} from '@angular/common';\nimport { AeSelectComponent } from './ae-select/ae-select.component';\n\n@NgModule({\n  imports: [\n    CommonModule, FormsModule, ReactiveFormsModule\n  ],\n  declarations: [AngularEditorComponent, AngularEditorToolbarComponent, AeSelectComponent],\n  exports: [AngularEditorComponent, AngularEditorToolbarComponent]\n})\nexport class AngularEditorModule {\n}\n","import {Component, OnInit} from '@angular/core';\nimport {AngularEditorConfig} from 'angular-editor';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  title = 'app';\n\n  form: FormGroup;\n\n  htmlContent1 = '';\n  htmlContent2 = '';\n\n  config1: AngularEditorConfig = {\n    editable: true,\n    spellcheck: true,\n    minHeight: '5rem',\n    maxHeight: '15rem',\n    placeholder: 'Enter text here...',\n    translate: 'no',\n    sanitize: false,\n    // toolbarPosition: 'top',\n    outline: true,\n    defaultFontName: 'Comic Sans MS',\n    defaultFontSize: '5',\n    // showToolbar: false,\n    defaultParagraphSeparator: 'p',\n    customClasses: [\n      {\n        name: 'quote',\n        class: 'quote',\n      },\n      {\n        name: 'redText',\n        class: 'redText'\n      },\n      {\n        name: 'titleText',\n        class: 'titleText',\n        tag: 'h1',\n      },\n    ],\n    toolbarHiddenButtons: [\n      ['bold', 'italic'],\n      ['fontSize']\n    ]\n  };\n\n  config2: AngularEditorConfig = {\n    editable: true,\n    spellcheck: true,\n    minHeight: '5rem',\n    maxHeight: '15rem',\n    placeholder: 'Enter text here...',\n    translate: 'no',\n    sanitize: true,\n    toolbarPosition: 'bottom',\n    defaultFontName: 'Comic Sans MS',\n    defaultFontSize: '5',\n    defaultParagraphSeparator: 'p',\n    customClasses: [\n      {\n        name: 'quote',\n        class: 'quote',\n      },\n      {\n        name: 'redText',\n        class: 'redText'\n      },\n      {\n        name: 'titleText',\n        class: 'titleText',\n        tag: 'h1',\n      },\n    ]\n  };\n\n  constructor(private formBuilder: FormBuilder) {}\n\n  ngOnInit() {\n    this.form = this.formBuilder.group({\n      signature: ['', Validators.required]\n    });\n    console.log(this.htmlContent1);\n  }\n\n  onChange(event) {\n    console.log('changed');\n  }\n\n  onBlur(event) {\n    console.log('blur ' + event);\n  }\n\n  onChange2(event) {\n    console.warn(this.form.value);\n  }\n}\n","<div class=\"container\">\n  <h1>Angular Editor</h1>\n  <p><a href=\"https://github.com/kolkov/angular-editor\">Get it here</a></p>\n\n  <label for=\"test_input\">Test input </label>\n  <input id=\"test_input\">\n  <br><br>\n  <angular-editor id=\"editor1\" [(ngModel)]=\"htmlContent1\" [config]=\"config1\" (ngModelChange)=\"onChange($event)\"\n                  (blur)=\"onBlur($event)\"></angular-editor>\n  <p class=\"html\">\n    HTML Output:  {{ htmlContent1 }}\n  </p>\n  <form [formGroup]=\"form\">\n    <angular-editor autofocus=\"true\" id=\"editor2\" formControlName=\"signature\" [config]=\"config2\" (ngModelChange)=\"onChange2($event)\"></angular-editor>\n  </form>\n  <p>\n    Form Value: {{ form.value.signature }}\n  </p>\n  <p>\n    Form Status: {{ form.status }}\n  </p>\n</div>\n\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {HttpClientModule} from '@angular/common/http';\nimport {AngularEditorModule} from '../../../angular-editor/src/lib/angular-editor.module';\n\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    AngularEditorModule,\n    HttpClientModule,\n    FormsModule,\n    ReactiveFormsModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import {\n  Attribute,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef, HostBinding,\n  HostListener,\n  Input,\n  OnInit,\n  Output,\n  Renderer2,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {isDefined} from '../utils';\n\nexport interface SelectOption {\n  label: string;\n  value: string;\n}\n\n@Component({\n  selector: 'ae-select',\n  templateUrl: './ae-select.component.html',\n  styleUrls: ['./ae-select.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => AeSelectComponent),\n      multi: true,\n    }\n  ]\n})\nexport class AeSelectComponent implements OnInit, ControlValueAccessor {\n  @Input() options: SelectOption[] = [];\n  // tslint:disable-next-line:no-input-rename\n  @Input('hidden') isHidden: boolean;\n\n  selectedOption: SelectOption;\n  disabled = false;\n  optionId = 0;\n\n  get label(): string {\n    return this.selectedOption && this.selectedOption.hasOwnProperty('label') ? this.selectedOption.label : 'Select';\n  }\n\n  opened = false;\n\n  get value(): string {\n    return this.selectedOption.value;\n  }\n\n  @HostBinding('style.display') hidden = 'inline-block';\n\n  // tslint:disable-next-line:no-output-native no-output-rename\n  @Output('change') changeEvent = new EventEmitter();\n\n  @ViewChild('labelButton', {static: true}) labelButton: ElementRef;\n\n  constructor(private elRef: ElementRef,\n              private r: Renderer2,\n  ) {}\n\n  ngOnInit() {\n    this.selectedOption = this.options[0];\n    if (isDefined(this.isHidden) && this.isHidden) {\n      this.hide();\n    }\n  }\n\n  hide() {\n    this.hidden = 'none';\n  }\n\n  optionSelect(option: SelectOption, event: MouseEvent) {\n    event.stopPropagation();\n    this.setValue(option.value);\n    this.onChange(this.selectedOption.value);\n    this.changeEvent.emit(this.selectedOption.value);\n    this.onTouched();\n    this.opened = false;\n  }\n\n  toggleOpen(event: MouseEvent) {\n    // event.stopPropagation();\n    if (this.disabled) {\n      return;\n    }\n    this.opened = !this.opened;\n  }\n\n  @HostListener('document:click', ['$event'])\n  onClick($event: MouseEvent) {\n    if (!this.elRef.nativeElement.contains($event.target)) {\n      this.close();\n    }\n  }\n\n  close() {\n    this.opened = false;\n  }\n\n  get isOpen(): boolean {\n    return this.opened;\n  }\n\n  writeValue(value) {\n    if (!value || typeof value !== 'string') {\n      return;\n    }\n    this.setValue(value);\n  }\n\n  setValue(value) {\n    let index = 0;\n    const selectedEl = this.options.find((el, i) => {\n      index = i;\n      return el.value === value;\n    });\n    if (selectedEl) {\n      this.selectedOption = selectedEl;\n      this.optionId = index;\n    }\n  }\n\n  onChange: any = () => {\n  }\n  onTouched: any = () => {\n  }\n\n  registerOnChange(fn) {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn) {\n    this.onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.labelButton.nativeElement.disabled = isDisabled;\n    const div = this.labelButton.nativeElement;\n    const action = isDisabled ? 'addClass' : 'removeClass';\n    this.r[action](div, 'disabled');\n    this.disabled = isDisabled;\n  }\n\n  @HostListener('keydown', ['$event'])\n  handleKeyDown($event: KeyboardEvent) {\n    if (!this.opened) {\n      return;\n    }\n    // console.log($event.key);\n    // if (KeyCode[$event.key]) {\n    switch ($event.key) {\n      case 'ArrowDown':\n        this._handleArrowDown($event);\n        break;\n      case 'ArrowUp':\n        this._handleArrowUp($event);\n        break;\n      case 'Space':\n        this._handleSpace($event);\n        break;\n      case 'Enter':\n        this._handleEnter($event);\n        break;\n      case 'Tab':\n        this._handleTab($event);\n        break;\n      case 'Escape':\n        this.close();\n        $event.preventDefault();\n        break;\n      case 'Backspace':\n        this._handleBackspace();\n        break;\n    }\n    // } else if ($event.key && $event.key.length === 1) {\n    // this._keyPress$.next($event.key.toLocaleLowerCase());\n    // }\n  }\n\n  _handleArrowDown($event) {\n    if (this.optionId < this.options.length - 1) {\n      this.optionId++;\n    }\n  }\n\n  _handleArrowUp($event) {\n    if (this.optionId >= 1) {\n      this.optionId--;\n    }\n  }\n\n  _handleSpace($event) {\n\n  }\n\n  _handleEnter($event) {\n    this.optionSelect(this.options[this.optionId], $event);\n  }\n\n  _handleTab($event) {\n\n  }\n\n  _handleBackspace() {\n\n  }\n}\n","<span class=\"ae-font ae-picker\" [ngClass]=\"{'ae-expanded':isOpen}\">\n  <button [tabIndex]=\"-1\" #labelButton tabindex=\"0\" type=\"button\" role=\"button\" class=\"ae-picker-label\" (click)=\"toggleOpen($event);\">{{label}}\n    <svg viewBox=\"0 0 18 18\">\n     <!-- <use x=\"0\" y=\"0\" xlink:href=\"../assets/icons.svg#hom\"></use>-->\n      <polygon class=\"ae-stroke\" points=\"7 11 9 13 11 11 7 11\"></polygon>\n      <polygon class=\"ae-stroke\" points=\"7 7 9 5 11 7 7 7\"></polygon>\n    </svg>\n  </button>\n  <span class=\"ae-picker-options\">\n    <button tabindex=\"-1\" type=\"button\" role=\"button\" class=\"ae-picker-item\"\n          *ngFor=\"let item of options; let i = index\"\n          [ngClass]=\"{'selected': item.value === value, 'focused': i === optionId}\"\n          (click)=\"optionSelect(item, $event)\">\n          {{item.label}}\n    </button>\n    <span class=\"dropdown-item\" *ngIf=\"!options.length\">No items for select</span>\n  </span>\n</span>\n","import {Component, ElementRef, EventEmitter, Inject, Input, Output, Renderer2, ViewChild} from '@angular/core';\nimport {AngularEditorService, UploadResponse} from './angular-editor.service';\nimport {HttpResponse, HttpEvent} from '@angular/common/http';\nimport {DOCUMENT} from '@angular/common';\nimport {CustomClass} from './config';\nimport {SelectOption} from './ae-select/ae-select.component';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'angular-editor-toolbar',\n  templateUrl: './angular-editor-toolbar.component.html',\n  styleUrls: ['./angular-editor-toolbar.component.scss'],\n})\n\nexport class AngularEditorToolbarComponent {\n  htmlMode = false;\n  linkSelected = false;\n  block = 'default';\n  fontName = 'Times New Roman';\n  fontSize = '3';\n  foreColour;\n  backColor;\n\n  headings: SelectOption[] = [\n    {\n      label: 'Heading 1',\n      value: 'h1',\n    },\n    {\n      label: 'Heading 2',\n      value: 'h2',\n    },\n    {\n      label: 'Heading 3',\n      value: 'h3',\n    },\n    {\n      label: 'Heading 4',\n      value: 'h4',\n    },\n    {\n      label: 'Heading 5',\n      value: 'h5',\n    },\n    {\n      label: 'Heading 6',\n      value: 'h6',\n    },\n    {\n      label: 'Heading 7',\n      value: 'h7',\n    },\n    {\n      label: 'Paragraph',\n      value: 'p',\n    }\n  ];\n\n  fontSizes: SelectOption[] = [\n    {\n      label: '1',\n      value: '1',\n    },\n    {\n      label: '2',\n      value: '2',\n    },\n    {\n      label: '3',\n      value: '3',\n    },\n    {\n      label: '4',\n      value: '4',\n    },\n    {\n      label: '5',\n      value: '5',\n    },\n    {\n      label: '6',\n      value: '6',\n    },\n    {\n      label: '7',\n      value: '7',\n    }\n  ];\n\n  customClassId = '-1';\n  // tslint:disable-next-line:variable-name\n  _customClasses: CustomClass[];\n  customClassList: SelectOption[] = [{label: '', value: ''}];\n  // uploadUrl: string;\n\n  tagMap = {\n    BLOCKQUOTE: 'indent',\n    A: 'link'\n  };\n\n  select = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n\n  buttons = ['bold', 'italic', 'underline', 'strikeThrough', 'subscript', 'superscript', 'justifyLeft', 'justifyCenter',\n    'justifyRight', 'justifyFull', 'indent', 'outdent', 'insertUnorderedList', 'insertOrderedList', 'link'];\n\n  @Input() id: string;\n  @Input() uploadUrl: string;\n  @Input() upload: (file: File) => Observable<HttpEvent<UploadResponse>>;\n  @Input() showToolbar: boolean;\n  @Input() fonts: SelectOption[] = [{label: '', value: ''}];\n\n  @Input()\n  set customClasses(classes: CustomClass[]) {\n    if (classes) {\n      this._customClasses = classes;\n      this.customClassList = this._customClasses.map((x, i) => ({label: x.name, value: i.toString()}));\n      this.customClassList.unshift({label: 'Clear Class', value: '-1'});\n    }\n  }\n\n  @Input()\n  set defaultFontName(value: string) {\n    if (value) {\n      this.fontName = value;\n    }\n  }\n\n  @Input()\n  set defaultFontSize(value: string) {\n    if (value) {\n      this.fontSize = value;\n    }\n  }\n\n  @Input() hiddenButtons: string[][];\n\n  @Output() execute: EventEmitter<string> = new EventEmitter<string>();\n\n  @ViewChild('fileInput', {static: true}) myInputFile: ElementRef;\n\n  public get isLinkButtonDisabled(): boolean {\n    return this.htmlMode || !Boolean(this.editorService.selectedText);\n  }\n\n  constructor(\n    private r: Renderer2,\n    private editorService: AngularEditorService,\n    private er: ElementRef,\n    @Inject(DOCUMENT) private doc: any\n  ) {\n  }\n\n  /**\n   * Trigger command from editor header buttons\n   * @param command string from toolbar buttons\n   */\n  triggerCommand(command: string) {\n    this.execute.emit(command);\n  }\n\n  /**\n   * highlight editor buttons when cursor moved or positioning\n   */\n  triggerButtons() {\n    if (!this.showToolbar) {\n      return;\n    }\n    this.buttons.forEach(e => {\n      const result = this.doc.queryCommandState(e);\n      const elementById = this.doc.getElementById(e + '-' + this.id);\n      if (result) {\n        this.r.addClass(elementById, 'active');\n      } else {\n        this.r.removeClass(elementById, 'active');\n      }\n    });\n  }\n\n  /**\n   * trigger highlight editor buttons when cursor moved or positioning in block\n   */\n  triggerBlocks(nodes: Node[]) {\n    if (!this.showToolbar) {\n      return;\n    }\n    this.linkSelected = nodes.findIndex(x => x.nodeName === 'A') > -1;\n    let found = false;\n    this.select.forEach(y => {\n      const node = nodes.find(x => x.nodeName === y);\n      if (node !== undefined && y === node.nodeName) {\n        if (found === false) {\n          this.block = node.nodeName.toLowerCase();\n          found = true;\n        }\n      } else if (found === false) {\n        this.block = 'default';\n      }\n    });\n\n    found = false;\n    if (this._customClasses) {\n      this._customClasses.forEach((y, index) => {\n        const node = nodes.find(x => {\n          if (x instanceof Element) {\n            return x.className === y.class;\n          }\n        });\n        if (node !== undefined) {\n          if (found === false) {\n            this.customClassId = index.toString();\n            found = true;\n          }\n        } else if (found === false) {\n          this.customClassId = '-1';\n        }\n      });\n    }\n\n    Object.keys(this.tagMap).map(e => {\n      const elementById = this.doc.getElementById(this.tagMap[e] + '-' + this.id);\n      const node = nodes.find(x => x.nodeName === e);\n      if (node !== undefined && e === node.nodeName) {\n        this.r.addClass(elementById, 'active');\n      } else {\n        this.r.removeClass(elementById, 'active');\n      }\n    });\n\n    this.foreColour = this.doc.queryCommandValue('ForeColor');\n    this.fontSize = this.doc.queryCommandValue('FontSize');\n    this.fontName = this.doc.queryCommandValue('FontName').replace(/\"/g, '');\n    this.backColor = this.doc.queryCommandValue('backColor');\n  }\n\n  /**\n   * insert URL link\n   */\n  insertUrl() {\n    let url = 'https:\\/\\/';\n    const selection = this.editorService.savedSelection;\n    if (selection && selection.commonAncestorContainer.parentElement.nodeName === 'A') {\n      const parent = selection.commonAncestorContainer.parentElement as HTMLAnchorElement;\n      if (parent.href !== '') {\n        url = parent.href;\n      }\n    }\n    url = prompt('Insert URL link', url);\n    if (url && url !== '' && url !== 'https://') {\n      this.editorService.createLink(url);\n    }\n  }\n\n  /**\n   * insert Video link\n   */\n  insertVideo() {\n    this.execute.emit('');\n    const url = prompt('Insert Video link', `https://`);\n    if (url && url !== '' && url !== `https://`) {\n      this.editorService.insertVideo(url);\n    }\n  }\n\n  /** insert color */\n  insertColor(color: string, where: string) {\n    this.editorService.insertColor(color, where);\n    this.execute.emit('');\n  }\n\n  /**\n   * set font Name/family\n   * @param foreColor string\n   */\n  setFontName(foreColor: string): void {\n    this.editorService.setFontName(foreColor);\n    this.execute.emit('');\n  }\n\n  /**\n   * set font Size\n   * @param fontSize string\n   */\n  setFontSize(fontSize: string): void {\n    this.editorService.setFontSize(fontSize);\n    this.execute.emit('');\n  }\n\n  /**\n   * toggle editor mode (WYSIWYG or SOURCE)\n   * @param m boolean\n   */\n  setEditorMode(m: boolean) {\n    const toggleEditorModeButton = this.doc.getElementById('toggleEditorMode' + '-' + this.id);\n    if (m) {\n      this.r.addClass(toggleEditorModeButton, 'active');\n    } else {\n      this.r.removeClass(toggleEditorModeButton, 'active');\n    }\n    this.htmlMode = m;\n  }\n\n  /**\n   * Upload image when file is selected.\n   */\n  onFileChanged(event) {\n    const file = event.target.files[0];\n    if (file.type.includes('image/')) {\n        if (this.upload) {\n          this.upload(file).subscribe(() => this.watchUploadImage);\n        } else if (this.uploadUrl) {\n            this.editorService.uploadImage(file).subscribe(() => this.watchUploadImage);\n        } else {\n          const reader = new FileReader();\n          reader.onload = (e: ProgressEvent) => {\n            const fr = e.currentTarget as FileReader;\n            this.editorService.insertImage(fr.result.toString());\n          };\n          reader.readAsDataURL(file);\n        }\n      }\n  }\n\n  watchUploadImage(response: HttpResponse<{imageUrl: string}>, event) {\n    const { imageUrl } = response.body;\n    this.editorService.insertImage(imageUrl);\n    event.srcElement.value = null;\n  }\n\n  /**\n   * Set custom class\n   */\n  setCustomClass(classId: string) {\n    if (classId === '-1') {\n      this.execute.emit('clear');\n    } else {\n      this.editorService.createCustomClass(this._customClasses[+classId]);\n    }\n  }\n\n  isButtonHidden(name: string): boolean {\n    if (!name) {\n      return false;\n    }\n    if (!(this.hiddenButtons instanceof Array)) {\n      return false;\n    }\n    let result: any;\n    for (const arr of this.hiddenButtons) {\n      if (arr instanceof Array) {\n        result = arr.find(item => item === name);\n      }\n      if (result) {\n        break;\n      }\n    }\n    return result !== undefined;\n  }\n\n  focus() {\n    this.execute.emit('focus');\n    console.log('focused');\n  }\n}\n","<div class=\"angular-editor-toolbar\" *ngIf=\"showToolbar\">\n  <div class=\"angular-editor-toolbar-set\">\n    <button type=\"button\" title=\"Undo\" class=\"angular-editor-button\" (click)=\"triggerCommand('undo')\"\n            [hidden]=\"isButtonHidden('undo')\" tabindex=\"-1\"><i\n      class='fa fa-undo'></i></button>\n    <button type=\"button\" title=\"Redo\" class=\"angular-editor-button\" (click)=\"triggerCommand('redo')\"\n            [hidden]=\"isButtonHidden('redo')\" tabindex=\"-1\"><i\n      class='fa fa-repeat'></i></button>\n  </div>\n  <div class=\"angular-editor-toolbar-set\">\n    <button [id]=\"'bold-'+id\" type=\"button\" title=\"Bold\" class=\"angular-editor-button\" (click)=\"triggerCommand('bold')\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('bold')\" tabindex=\"-1\"><i class='fa fa-bold'></i></button>\n    <button [id]=\"'italic-'+id\" type=\"button\" title=\"Italic\" class=\"angular-editor-button\"\n            (click)=\"triggerCommand('italic')\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('italic')\" tabindex=\"-1\"><i class='fa fa-italic'></i>\n    </button>\n    <button [id]=\"'underline-'+id\" type=\"button\" title=\"Underline\" class=\"angular-editor-button\"\n            (click)=\"triggerCommand('underline')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('underline')\"\n            tabindex=\"-1\"><i class='fa fa-underline'></i></button>\n    <button [id]=\"'strikeThrough-'+id\" type=\"button\" title=\"Strikethrough\" class=\"angular-editor-button\"\n            (click)=\"triggerCommand('strikeThrough')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('strikeThrough')\"\n            tabindex=\"-1\"><i class='fa fa-strikethrough'></i></button>\n    <button [id]=\"'subscript-'+id\" type=\"button\" title=\"Subscript\" class=\"angular-editor-button\"\n            (click)=\"triggerCommand('subscript')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('subscript')\"\n            tabindex=\"-1\"><i class='fa fa-subscript'></i></button>\n    <button [id]=\"'superscript-'+id\" type=\"button\" title=\"Superscript\" class=\"angular-editor-button\"\n            (click)=\"triggerCommand('superscript')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('superscript')\"\n            tabindex=\"-1\"><i class='fa fa-superscript'></i></button>\n  </div>\n  <div class=\"angular-editor-toolbar-set\">\n    <button [id]=\"'justifyLeft-'+id\" type=\"button\" title=\"Justify Left\" class=\"angular-editor-button\"\n            (click)=\"triggerCommand('justifyLeft')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('justifyLeft')\"\n            tabindex=\"-1\"><i\n      class='fa fa-align-left'></i></button>\n    <button [id]=\"'justifyCenter-'+id\" type=\"button\" title=\"Justify Center\" class=\"angular-editor-button\"\n            (click)=\"triggerCommand('justifyCenter')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('justifyCenter')\"\n            tabindex=\"-1\"><i\n      class='fa fa-align-center'></i></button>\n    <button [id]=\"'justifyRight-'+id\" type=\"button\" title=\"Justify Right\" class=\"angular-editor-button\"\n            (click)=\"triggerCommand('justifyRight')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('justifyRight')\"\n            tabindex=\"-1\">\n      <i class='fa fa-align-right'></i></button>\n    <button [id]=\"'justifyFull-'+id\" type=\"button\" title=\"Justify Full\" class=\"angular-editor-button\"\n            (click)=\"triggerCommand('justifyFull')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('justifyFull')\"\n            tabindex=\"-1\"><i\n      class='fa fa-align-justify'></i></button>\n  </div>\n  <div class=\"angular-editor-toolbar-set\">\n    <button [id]=\"'indent-'+id\" type=\"button\" title=\"Indent\" class=\"angular-editor-button\"\n            (click)=\"triggerCommand('indent')\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('indent')\" tabindex=\"-1\"><i\n      class='fa fa-indent'></i></button>\n    <button [id]=\"'outdent-'+id\" type=\"button\" title=\"Outdent\" class=\"angular-editor-button\"\n            (click)=\"triggerCommand('outdent')\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('outdent')\" tabindex=\"-1\"><i\n      class='fa fa-outdent'></i></button>\n  </div>\n  <div class=\"angular-editor-toolbar-set\">\n    <button [id]=\"'insertUnorderedList-'+id\" type=\"button\" title=\"Unordered List\" class=\"angular-editor-button\"\n            (click)=\"triggerCommand('insertUnorderedList')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('insertUnorderedList')\" tabindex=\"-1\"><i\n      class='fa fa-list-ul'></i></button>\n    <button [id]=\"'insertOrderedList-'+id\" type=\"button\" title=\"Ordered List\" class=\"angular-editor-button\"\n            (click)=\"triggerCommand('insertOrderedList')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('insertOrderedList')\" tabindex=\"-1\"><i\n      class='fa fa-list-ol'></i></button>\n  </div>\n  <div class=\"angular-editor-toolbar-set\">\n\n    <ae-select class=\"select-heading\" [options]=\"headings\"\n               [(ngModel)]=\"block\"\n               (change)=\"triggerCommand(block)\"\n               [disabled]=\"htmlMode\"\n               [hidden]=\"isButtonHidden('heading')\"\n               tabindex=\"-1\"></ae-select>\n  </div>\n  <div class=\"angular-editor-toolbar-set\">\n\n    <ae-select class=\"select-font\" [options]=\"fonts\"\n               [(ngModel)]=\"fontName\"\n               (change)=\"setFontName(fontName)\"\n               [disabled]=\"htmlMode\"\n               [hidden]=\"isButtonHidden('fontName')\"\n               tabindex=\"-1\"></ae-select>\n  </div>\n  <div class=\"angular-editor-toolbar-set\">\n\n    <ae-select class=\"select-font-size\" [options]=\"fontSizes\"\n               [(ngModel)]=\"fontSize\"\n               (change)=\"setFontSize(fontSize)\"\n               [disabled]=\"htmlMode\"\n               [hidden]=\"isButtonHidden('fontSize')\"\n               tabindex=\"-1\">\n    </ae-select>\n  </div>\n  <div class=\"angular-editor-toolbar-set\">\n    <input\n      style=\"display: none\"\n      type=\"color\" (change)=\"insertColor(fgInput.value, 'textColor')\"\n      #fgInput>\n    <button [id]=\"'foregroundColorPicker-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"focus(); ; fgInput.click()\"\n            title=\"Text Color\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('textColor')\" tabindex=\"-1\"><span\n      class=\"color-label foreground\"><i class=\"fa fa-font\"></i></span>\n    </button>\n    <input\n      style=\"display: none\"\n      type=\"color\" (change)=\"insertColor(bgInput.value, 'backgroundColor')\"\n      #bgInput>\n    <button [id]=\"'backgroundColorPicker-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"focus(); ; bgInput.click()\"\n            title=\"Background Color\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('backgroundColor')\" tabindex=\"-1\"><span\n      class=\"color-label background\"><i class=\"fa fa-font\"></i></span>\n    </button>\n  </div>\n  <div *ngIf=\"_customClasses\" class=\"angular-editor-toolbar-set\">\n    <ae-select class=\"select-custom-style\" [options]=\"customClassList\"\n               [(ngModel)]=\"customClassId\"\n               (change)=\"setCustomClass(customClassId)\"\n               [disabled]=\"htmlMode\"\n               [hidden]=\"isButtonHidden('customClasses')\"\n               tabindex=\"-1\"></ae-select>\n  </div>\n  <div class=\"angular-editor-toolbar-set\">\n    <button [id]=\"'link-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"insertUrl()\"\n            title=\"Insert Link\" [disabled]=\"isLinkButtonDisabled\" [hidden]=\"isButtonHidden('link')\" tabindex=\"-1\">\n      <i class=\"fa fa-link\"></i>\n    </button>\n    <button [id]=\"'unlink-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"triggerCommand('unlink')\"\n            title=\"Unlink\" [disabled]=\"htmlMode || !linkSelected\" [hidden]=\"isButtonHidden('unlink')\" tabindex=\"-1\">\n      <i class=\"fa fa-chain-broken\"></i>\n    </button>\n    <input\n      style=\"display: none\"\n      accept=\"image/*\"\n      type=\"file\" (change)=\"onFileChanged($event)\"\n      #fileInput>\n    <button [id]=\"'insertImage-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"focus(); fileInput.click()\"\n            title=\"Insert Image\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('insertImage')\" tabindex=\"-1\"><i class=\"fa fa-image\"></i>\n    </button>\n    <button [id]=\"'insertVideo-'+id\" type=\"button\" class=\"angular-editor-button\"\n            (click)=\"insertVideo()\" title=\"Insert Video\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('insertVideo')\"\n            tabindex=\"-1\"><i\n      class=\"fa fa-video-camera\"></i></button>\n    <button [id]=\"'insertHorizontalRule-'+id\" type=\"button\" title=\"Horizontal Line\" class=\"angular-editor-button\"\n            (click)=\"triggerCommand('insertHorizontalRule')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('insertHorizontalRule')\" tabindex=\"-1\"><i\n      class=\"fa fa-minus\"></i></button>\n  </div>\n  <div class=\"angular-editor-toolbar-set\">\n    <button [id]=\"'clearFormatting-'+id\" type=\"button\" title=\"Clear Formatting\" class=\"angular-editor-button\"\n            (click)=\"triggerCommand('removeFormat')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('removeFormat')\"\n            tabindex=\"-1\"><i class='fa fa-remove'></i>\n    </button>\n  </div>\n  <div class=\"angular-editor-toolbar-set\">\n    <button [id]=\"'toggleEditorMode-'+id\" type=\"button\" title=\"HTML Code\" class=\"angular-editor-button\"\n            (click)=\"triggerCommand('toggleEditorMode')\" [hidden]=\"isButtonHidden('toggleEditorMode')\" tabindex=\"-1\"><i\n      class='fa fa-code'></i></button>\n  </div>\n</div>\n","import {\n  AfterViewInit,\n  Attribute,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  HostListener,\n  Inject,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n  SecurityContext,\n  ViewChild\n} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {AngularEditorConfig, angularEditorConfig} from './config';\nimport {AngularEditorToolbarComponent} from './angular-editor-toolbar.component';\nimport {AngularEditorService} from './angular-editor.service';\nimport {DOCUMENT} from '@angular/common';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {isDefined} from './utils';\n\n@Component({\n  selector: 'angular-editor',\n  templateUrl: './angular-editor.component.html',\n  styleUrls: ['./angular-editor.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => AngularEditorComponent),\n      multi: true\n    },\n    AngularEditorService\n  ]\n})\nexport class AngularEditorComponent implements OnInit, ControlValueAccessor, AfterViewInit, OnDestroy {\n\n  private onChange: (value: string) => void;\n  private onTouched: () => void;\n\n  modeVisual = true;\n  showPlaceholder = false;\n  disabled = false;\n  focused = false;\n  touched = false;\n  changed = false;\n\n  focusInstance: any;\n  blurInstance: any;\n\n  @Input() id = '';\n  @Input() config: AngularEditorConfig = angularEditorConfig;\n  @Input() placeholder = '';\n  @Input() tabIndex: number | null;\n\n  @Output() html;\n\n  @ViewChild('editor', {static: true}) textArea: ElementRef;\n  @ViewChild('editorWrapper', {static: true}) editorWrapper: ElementRef;\n  @ViewChild('editorToolbar') editorToolbar: AngularEditorToolbarComponent;\n\n  @Output() viewMode = new EventEmitter<boolean>();\n\n  /** emits `blur` event when focused out from the textarea */\n    // tslint:disable-next-line:no-output-native no-output-rename\n  @Output('blur') blurEvent: EventEmitter<FocusEvent> = new EventEmitter<FocusEvent>();\n\n  /** emits `focus` event when focused in to the textarea */\n    // tslint:disable-next-line:no-output-rename no-output-native\n  @Output('focus') focusEvent: EventEmitter<FocusEvent> = new EventEmitter<FocusEvent>();\n\n  @HostBinding('attr.tabindex') tabindex = -1;\n\n  @HostListener('focus')\n  onFocus() {\n    this.focus();\n  }\n\n  constructor(\n    private r: Renderer2,\n    private editorService: AngularEditorService,\n    @Inject(DOCUMENT) private doc: any,\n    private sanitizer: DomSanitizer,\n    private cdRef: ChangeDetectorRef,\n    @Attribute('tabindex') defaultTabIndex: string,\n    @Attribute('autofocus') private autoFocus: any\n  ) {\n    const parsedTabIndex = Number(defaultTabIndex);\n    this.tabIndex = (parsedTabIndex || parsedTabIndex === 0) ? parsedTabIndex : null;\n  }\n\n  ngOnInit() {\n    this.config.toolbarPosition = this.config.toolbarPosition ? this.config.toolbarPosition : angularEditorConfig.toolbarPosition;\n  }\n\n  ngAfterViewInit() {\n    if (isDefined(this.autoFocus)) {\n      this.focus();\n    }\n  }\n\n  /**\n   * Executed command from editor header buttons\n   * @param command string from triggerCommand\n   */\n  executeCommand(command: string) {\n    this.focus();\n    if (command === 'focus') {\n      return;\n    }\n    if (command === 'toggleEditorMode') {\n      this.toggleEditorMode(this.modeVisual);\n    } else if (command !== '') {\n      if (command === 'clear') {\n        this.editorService.removeSelectedElements(this.getCustomTags());\n        this.onContentChange(this.textArea.nativeElement);\n      } else if (command === 'default') {\n        this.editorService.removeSelectedElements('h1,h2,h3,h4,h5,h6,p,pre');\n        this.onContentChange(this.textArea.nativeElement);\n      } else {\n        this.editorService.executeCommand(command);\n      }\n      this.exec();\n    }\n  }\n\n  /**\n   * focus event\n   */\n  onTextAreaFocus(event: FocusEvent): void {\n    if (this.focused) {\n      event.stopPropagation();\n      return;\n    }\n    this.focused = true;\n    this.focusEvent.emit(event);\n    if (!this.touched || !this.changed) {\n      this.editorService.executeInNextQueueIteration(() => {\n        this.configure();\n        this.touched = true;\n      });\n    }\n  }\n\n  /**\n   * @description fires when cursor leaves textarea\n   */\n  public onTextAreaMouseOut(event: MouseEvent): void {\n    this.editorService.saveSelection();\n  }\n\n  /**\n   * blur event\n   */\n  onTextAreaBlur(event: FocusEvent) {\n    /**\n     * save selection if focussed out\n     */\n    this.editorService.executeInNextQueueIteration(this.editorService.saveSelection);\n\n    if (typeof this.onTouched === 'function') {\n      this.onTouched();\n    }\n\n    if (event.relatedTarget !== null) {\n      const parent = (event.relatedTarget as HTMLElement).parentElement;\n      if (!parent.classList.contains('angular-editor-toolbar-set') && !parent.classList.contains('ae-picker')) {\n        this.blurEvent.emit(event);\n        this.focused = false;\n      }\n    }\n  }\n\n  /**\n   *  focus the text area when the editor is focused\n   */\n  focus() {\n    if (this.modeVisual) {\n      this.textArea.nativeElement.focus();\n    } else {\n      const sourceText = this.doc.getElementById('sourceText' + this.id);\n      sourceText.focus();\n      this.focused = true;\n    }\n  }\n\n  /**\n   * Executed from the contenteditable section while the input property changes\n   * @param element html element from contenteditable\n   */\n  onContentChange(element: HTMLElement): void {\n    let html = '';\n    if (this.modeVisual) {\n      html = element.innerHTML;\n    } else {\n      html = element.innerText;\n    }\n    if ((!html || html === '<br>')) {\n      html = '';\n    }\n    if (typeof this.onChange === 'function') {\n      this.onChange(this.config.sanitize || this.config.sanitize === undefined ?\n        this.sanitizer.sanitize(SecurityContext.HTML, html) : html);\n      if ((!html) !== this.showPlaceholder) {\n        this.togglePlaceholder(this.showPlaceholder);\n      }\n    }\n    this.changed = true;\n  }\n\n  /**\n   * Set the function to be called\n   * when the control receives a change event.\n   *\n   * @param fn a function\n   */\n  registerOnChange(fn: any): void {\n    this.onChange = e => (e === '<br>' ? fn('') : fn(e)) ;\n  }\n\n  /**\n   * Set the function to be called\n   * when the control receives a touch event.\n   *\n   * @param fn a function\n   */\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  /**\n   * Write a new value to the element.\n   *\n   * @param value value to be executed when there is a change in contenteditable\n   */\n  writeValue(value: any): void {\n\n    if ((!value || value === '<br>' || value === '') !== this.showPlaceholder) {\n      this.togglePlaceholder(this.showPlaceholder);\n    }\n\n    if (value === undefined || value === '' || value === '<br>') {\n      value = null;\n    }\n\n    this.refreshView(value);\n  }\n\n  /**\n   * refresh view/HTML of the editor\n   *\n   * @param value html string from the editor\n   */\n  refreshView(value: string): void {\n    const normalizedValue = value === null ? '' : value;\n    this.r.setProperty(this.textArea.nativeElement, 'innerHTML', normalizedValue);\n\n    return;\n  }\n\n  /**\n   * toggles placeholder based on input string\n   *\n   * @param value A HTML string from the editor\n   */\n  togglePlaceholder(value: boolean): void {\n    if (!value) {\n      this.r.addClass(this.editorWrapper.nativeElement, 'show-placeholder');\n      this.showPlaceholder = true;\n\n    } else {\n      this.r.removeClass(this.editorWrapper.nativeElement, 'show-placeholder');\n      this.showPlaceholder = false;\n    }\n  }\n\n  /**\n   * Implements disabled state for this element\n   *\n   * @param isDisabled Disabled flag\n   */\n  setDisabledState(isDisabled: boolean): void {\n    const div = this.textArea.nativeElement;\n    const action = isDisabled ? 'addClass' : 'removeClass';\n    this.r[action](div, 'disabled');\n    this.disabled = isDisabled;\n  }\n\n  /**\n   * toggles editor mode based on bToSource bool\n   *\n   * @param bToSource A boolean value from the editor\n   */\n  toggleEditorMode(bToSource: boolean) {\n    let oContent: any;\n    const editableElement = this.textArea.nativeElement;\n\n    if (bToSource) {\n      oContent = this.r.createText(editableElement.innerHTML);\n      this.r.setProperty(editableElement, 'innerHTML', '');\n      this.r.setProperty(editableElement, 'contentEditable', false);\n\n      const oPre = this.r.createElement('pre');\n      this.r.setStyle(oPre, 'margin', '0');\n      this.r.setStyle(oPre, 'outline', 'none');\n\n      const oCode = this.r.createElement('code');\n      this.r.setProperty(oCode, 'id', 'sourceText' + this.id);\n      this.r.setStyle(oCode, 'display', 'block');\n      this.r.setStyle(oCode, 'white-space', 'pre-wrap');\n      this.r.setStyle(oCode, 'word-break', 'keep-all');\n      this.r.setStyle(oCode, 'outline', 'none');\n      this.r.setStyle(oCode, 'margin', '0');\n      this.r.setStyle(oCode, 'background-color', '#fff5b9');\n      this.r.setProperty(oCode, 'contentEditable', true);\n      this.r.appendChild(oCode, oContent);\n      this.focusInstance = this.r.listen(oCode, 'focus', (event) => this.onTextAreaFocus(event));\n      this.blurInstance = this.r.listen(oCode, 'blur', (event) => this.onTextAreaBlur(event));\n      this.r.appendChild(oPre, oCode);\n      this.r.appendChild(editableElement, oPre);\n\n      // ToDo move to service\n      this.doc.execCommand('defaultParagraphSeparator', false, 'div');\n\n      this.modeVisual = false;\n      this.viewMode.emit(false);\n      oCode.focus();\n    } else {\n      if (this.doc.querySelectorAll) {\n        this.r.setProperty(editableElement, 'innerHTML', editableElement.innerText);\n      } else {\n        oContent = this.doc.createRange();\n        oContent.selectNodeContents(editableElement.firstChild);\n        this.r.setProperty(editableElement, 'innerHTML', oContent.toString());\n      }\n      this.r.setProperty(editableElement, 'contentEditable', true);\n      this.modeVisual = true;\n      this.viewMode.emit(true);\n      this.onContentChange(editableElement);\n      editableElement.focus();\n    }\n    this.editorToolbar.setEditorMode(!this.modeVisual);\n  }\n\n  /**\n   * toggles editor buttons when cursor moved or positioning\n   *\n   * Send a node array from the contentEditable of the editor\n   */\n  exec() {\n    this.editorToolbar.triggerButtons();\n\n    let userSelection;\n    if (this.doc.getSelection) {\n      userSelection = this.doc.getSelection();\n      this.editorService.executeInNextQueueIteration(this.editorService.saveSelection);\n    }\n\n    let a = userSelection.focusNode;\n    const els = [];\n    while (a && a.id !== 'editor') {\n      els.unshift(a);\n      a = a.parentNode;\n    }\n    this.editorToolbar.triggerBlocks(els);\n  }\n\n  private configure() {\n    this.editorService.uploadUrl = this.config.uploadUrl;\n    this.editorService.uploadWithCredentials = this.config.uploadWithCredentials;\n    if (this.config.defaultParagraphSeparator) {\n      this.editorService.setDefaultParagraphSeparator(this.config.defaultParagraphSeparator);\n    }\n    if (this.config.defaultFontName) {\n      this.editorService.setFontName(this.config.defaultFontName);\n    }\n    if (this.config.defaultFontSize) {\n      this.editorService.setFontSize(this.config.defaultFontSize);\n    }\n  }\n\n  getFonts() {\n    const fonts = this.config.fonts ? this.config.fonts : angularEditorConfig.fonts;\n    return fonts.map(x => {\n      return {label: x.name, value: x.name};\n    });\n  }\n\n  getCustomTags() {\n    const tags = ['span'];\n    this.config.customClasses.forEach(x => {\n      if (x.tag !== undefined) {\n        if (!tags.includes(x.tag)) {\n          tags.push(x.tag);\n        }\n      }\n    });\n    return tags.join(',');\n  }\n\n  ngOnDestroy() {\n    if (this.blurInstance) {\n      this.blurInstance();\n    }\n    if (this.focusInstance) {\n      this.focusInstance();\n    }\n  }\n\n  filterStyles(html: string): string {\n    html = html.replace('position: fixed;', '');\n    return html;\n  }\n}\n","<div\n     class=\"angular-editor\"\n     #angularEditor\n     [style.width]=\"config.width\"\n     [style.minWidth]=\"config.minWidth\"\n>\n     <angular-editor-toolbar\n          *ngIf=\"config.toolbarPosition === 'top'\"\n          #editorToolbar\n          [id]=\"id\"\n          [uploadUrl]=\"config.uploadUrl\"\n          [upload]=\"config.upload\"\n          [showToolbar]=\"config.showToolbar !== undefined ? config.showToolbar : true\"\n          [fonts]=\"getFonts()\"\n          [customClasses]=\"config.customClasses\"\n          [defaultFontName]=\"config.defaultFontName\"\n          [defaultFontSize]=\"config.defaultFontSize\"\n          [hiddenButtons]=\"config.toolbarHiddenButtons\"\n          (execute)=\"executeCommand($event)\"\n     ></angular-editor-toolbar>\n\n     <div\n          class=\"angular-editor-wrapper\"\n          #editorWrapper\n     >\n          <div\n               #editor\n               class=\"angular-editor-textarea\"\n               [attr.contenteditable]=\"config.editable\"\n               [attr.tabindex]=\"disabled ? -1 : tabIndex\"\n               [attr.translate]=\"config.translate\"\n               [attr.spellcheck]=\"config.spellcheck\"\n               [style.height]=\"config.height\"\n               [style.minHeight]=\"config.minHeight\"\n               [style.maxHeight]=\"config.maxHeight\"\n               [style.outline]=\"config.outline === false ? 'none': undefined\"\n               (input)=\"onContentChange($event.target)\"\n               (focus)=\"onTextAreaFocus($event)\"\n               (blur)=\"onTextAreaBlur($event)\"\n               (click)=\"exec()\"\n               (keyup)=\"exec()\"\n               (mouseout)=\"onTextAreaMouseOut($event)\"\n          >\n          </div>\n          <span class=\"angular-editor-placeholder\">{{ placeholder || config['placeholder'] }}</span>\n     </div>\n     <angular-editor-toolbar\n          *ngIf=\"config.toolbarPosition === 'bottom'\"\n          #editorToolbar\n          [id]=\"id\"\n          [uploadUrl]=\"config.uploadUrl\"\n          [upload]=\"config.upload\"\n          [showToolbar]=\"config.showToolbar !== undefined ? config.showToolbar : true\"\n          [fonts]=\"getFonts()\"\n          [customClasses]=\"config.customClasses\"\n          [defaultFontName]=\"config.defaultFontName\"\n          [defaultFontSize]=\"config.defaultFontSize\"\n          [hiddenButtons]=\"config.toolbarHiddenButtons\"\n          (execute)=\"executeCommand($event)\"\n     ></angular-editor-toolbar>\n</div>\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}